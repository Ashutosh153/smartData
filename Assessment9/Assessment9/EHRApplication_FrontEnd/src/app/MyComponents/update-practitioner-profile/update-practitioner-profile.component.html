<div class="container my-5">
    <form [formGroup]="profileForm" class="shadow-lg p-4 rounded bg-white">
        <h3 class="text-center mb-4">Update Profile</h3>

        <!-- First Name -->
        <div class="form-group mb-3">
            <label for="FirstName" class="form-label">First Name</label>
            <input id="FirstName" formControlName="FirstName" type="text" (input)="limitInputLength($event,20)"
                class="form-control" placeholder="Enter your first name" />
            <div *ngIf="profileForm.get('FirstName')?.invalid && profileForm.get('FirstName')?.touched"
                class="text-danger">
                First Name is required and must be at least 2 characters
            </div>
        </div>

        <!-- Last Name -->
        <div class="form-group mb-3">
            <label for="LastName" class="form-label">Last Name</label>
            <input id="LastName" formControlName="LastName" type="text" (input)="limitInputLength($event,20)"
                class="form-control" placeholder="Enter your last name" />
            <div *ngIf="profileForm.get('LastName')?.invalid && profileForm.get('LastName')?.touched"
                class="text-danger">
                Last Name is required and must be at least 2 characters
            </div>
        </div>

        <!-- Mobile -->
        <div class="form-group mb-3">
            <label for="Mobile" class="form-label">Mobile</label>
            <input id="Mobile" formControlName="Mobile" type="number" (input)="limitInputLength($event,10)"
                class="form-control" placeholder="Enter your mobile number" />
            <div *ngIf="profileForm.get('Mobile')?.invalid && profileForm.get('Mobile')?.touched" class="text-danger">
                Mobile number is required and must be valid
            </div>
        </div>

        <!-- Profile Image -->
        <div class="form-group mb-3">
            <label for="profileImage" class="form-label">Profile Image</label>
            <input id="profileImage" formControlName="profileImage" type="file" class="form-control"
                (change)="onFileChange($event)" />
        </div>

        <!-- Date of Birth -->
        <div class="form-group mb-3">
            <label for="DOB" class="form-label">Date of Birth</label>
            <input id="DOB" formControlName="DOB" type="date" [max]="maxDate" class="form-control" />
            <div *ngIf="profileForm.get('DOB')?.invalid && profileForm.get('DOB')?.touched" class="text-danger">
                Date of Birth is required
            </div>
        </div>

        <!-- Address -->
        <div class="form-group mb-3">
            <label for="Address" class="form-label">Address</label>
            <input id="Address" formControlName="Address" type="text" class="form-control"
                placeholder="Enter your address" />
            <div *ngIf="profileForm.get('Address')?.invalid && profileForm.get('Address')?.touched" class="text-danger">
                Address is required
            </div>
        </div>

        <!-- Zipcode, City, and State -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="Zipcode" class="form-label">Zipcode</label>
                    <input id="Zipcode" formControlName="Zipcode" type="number" (input)="limitInputLength($event,6)"
                        class="form-control" placeholder="Enter your zipcode" />
                    <div *ngIf="profileForm.get('Zipcode')?.invalid && profileForm.get('Zipcode')?.touched"
                        class="text-danger">
                        Zipcode is required and must be 5 digits
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label for="city" class="form-label">City</label>
                    <select id="city" formControlName="city" class="form-control">
                        <option value="">Select City</option>
                        <option *ngFor="let item of allCities" [value]="item.id">{{ item.cityName }}</option>
                    </select>
                    <div *ngIf="profileForm.get('city')?.invalid && profileForm.get('city')?.touched" class="text-danger">
                        City is required
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label for="State" class="form-label">State</label>
                    <select id="State" formControlName="State" class="form-control">
                        <option value="">Select State</option>
                        <option *ngFor="let item of allStates" [value]="item.id">{{ item.name }}</option>
                    </select>
                    <div *ngIf="profileForm.get('State')?.invalid && profileForm.get('State')?.touched" class="text-danger">
                        State is required
                    </div>
                </div>
            </div>
        </div>

        <!-- Blood Group -->
        <div class="form-group mb-3">
            <label for="bloodGroup" class="form-label">Blood Group</label>
            <select id="bloodGroup" formControlName="bloodGroup" class="form-select">
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
            </select>
            <div *ngIf="profileForm.get('bloodGroup')?.invalid && profileForm.get('bloodGroup')?.touched"
                class="text-danger">
                Blood group is required
            </div>
        </div>

        <!-- Gender -->
        <div class="form-group mb-3">
            <label for="gender" class="form-label">Select Gender:</label>
            <div>
                <input type="radio" id="male" formControlName="gender" value="Male">
                <label for="male">Male</label>
            </div>
            <div>
                <input type="radio" id="female" formControlName="gender" value="Female">
                <label for="female">Female</label>
            </div>
        </div>

        <!-- Qualification -->
        <div class="form-group mb-3">
            <label for="qualification" class="form-label">Qualification</label>
            <input id="qualification" formControlName="qualification" type="text" (input)="limitInputLength($event,35)"
                class="form-control" placeholder="Enter your qualification" />
            <div *ngIf="profileForm.get('qualification')?.invalid && profileForm.get('qualification')?.touched"
                class="text-danger">
                Qualification is required
            </div>
        </div>

        <!-- Specialization -->
        <div class="form-group mb-3">
            <label for="Specialisation_ID" class="form-label">Specialization</label>
            <select id="Specialisation_ID" formControlName="Specialisation_ID" class="form-select">
                <option value="">Select Specialization</option>
                <option *ngFor="let item of allSpecilizations" [value]="item.id">{{ item.specialisationType }}</option>
            </select>
            <div *ngIf="profileForm.get('Specialisation_ID')?.invalid && profileForm.get('Specialisation_ID')?.touched"
                class="text-danger">
                Specialization is required
            </div>
        </div>

        <!-- Registration Number -->
        <div class="form-group mb-3">
            <label for="Registration_Number" class="form-label">Registration Number</label>
            <input id="Registration_Number" formControlName="Registration_Number" type="text"
                (input)="limitInputLength($event,35)" class="form-control" placeholder="Enter your Registration Number" />
            <div *ngIf="profileForm.get('Registration_Number')?.invalid && profileForm.get('Registration_Number')?.touched"
                class="text-danger">
                Registration Number is required
            </div>
        </div>

        <!-- Visiting Charge -->
        <div class="form-group mb-3">
            <label for="Visiting_Charge" class="form-label">Visiting Charge</label>
            <input id="Visiting_Charge" formControlName="Visiting_Charge" type="number" class="form-control"
                placeholder="Enter Visiting Charge" (input)="limitInputLength($event,6)" />
            <div *ngIf="profileForm.get('Visiting_Charge')?.invalid && profileForm.get('Visiting_Charge')?.touched"
                class="text-danger">
                Visiting Charge is required.
            </div>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-between">
            <button type="button" [disabled]="profileForm.invalid" (click)="onSubmit()" class="btn btn-primary">
                Update
            </button>
            <a routerLink="/dashboard" class="btn btn-danger">Cancel</a>
        </div>
    </form>
</div>
